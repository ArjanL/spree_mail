  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (42.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35mSQL (3.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to SpreeZeroNineZero (20090823005402)
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar(255), "lastname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "state_id" integer, "zipcode" varchar(255), "country_id" integer, "phone" varchar(255), "created_at" datetime, "updated_at" datetime, "state_name" varchar(255), "alternative_phone" varchar(255)) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "adjustment_source_id" integer, "adjustment_source_type" varchar(255), "secondary_type" varchar(255)) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "assets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "viewable_id" integer, "viewable_type" varchar(50), "attachment_content_type" varchar(255), "attachment_file_name" varchar(255), "attachment_size" integer, "position" integer, "type" varchar(75), "attachment_updated_at" datetime, "attachment_width" integer, "attachment_height" integer) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "calculators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "calculable_id" integer NOT NULL, "calculable_type" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "email" varchar(255), "ip_address" varchar(255), "special_instructions" text, "bill_address_id" integer, "completed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "type" varchar(50)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("configurations")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_configurations_on_name_and_type" ON "configurations" ("name", "type")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar(255), "iso" varchar(255), "name" varchar(255), "iso3" varchar(255), "numcode" integer) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "coupons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar(255), "description" varchar(255), "usage_limit" integer, "combine" boolean, "expires_at" datetime, "created_at" datetime, "updated_at" datetime, "starts_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "creditcard_txns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "creditcard_payment_id" integer, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "txn_type" integer, "response_code" varchar(255), "avs_response" text, "cvv_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" text, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "display_number" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "checkout_id" integer) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "gateway_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gateway_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "gateway_option_values" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gateway_configuration_id" integer, "gateway_option_id" integer, "value" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "gateway_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "gateway_id" integer, "textarea" boolean DEFAULT 'f', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "gateways" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "clazz" varchar(255), "name" varchar(255), "description" text, "active" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "state" varchar(255), "lock_version" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "variant_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_line_items_on_order_id')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_line_items_on_variant_id" ON "line_items" ("variant_id")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "presentation" varchar(100), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "option_types_prototypes" ("prototype_id" integer, "option_type_id" integer) 
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "option_values" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option_type_id" integer, "name" varchar(255), "position" integer, "presentation" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "option_values_variants" ("variant_id" integer, "option_value_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("option_values_variants")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_option_values_variants_on_variant_id" ON "option_values_variants" ("variant_id")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "number" varchar(15), "item_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "created_at" datetime, "updated_at" datetime, "state" varchar(255), "token" varchar(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "credit_total" decimal(8,2) DEFAULT 0.0 NOT NULL) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("orders")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_orders_on_number" ON "orders" ("number")
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "creditcard_id" integer, "type" varchar(255)) 
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attribute" varchar(100) NOT NULL, "owner_id" integer(30) NOT NULL, "owner_type" varchar(50) NOT NULL, "group_id" integer, "group_type" varchar(50), "value" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("preferences")[0m
  [1m[35mSQL (0.4ms)[0m  CREATE UNIQUE INDEX "index_preferences_on_owner_and_attribute_and_preference" ON "preferences" ("owner_id", "owner_type", "attribute", "group_id", "group_type")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "product_option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "option_type_id" integer, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "product_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "property_id" integer, "value" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "created_at" datetime, "updated_at" datetime, "permalink" varchar(255), "available_on" datetime, "tax_category_id" integer, "shipping_category_id" integer, "deleted_at" datetime, "meta_description" varchar(255), "meta_keywords" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_products_on_available_on" ON "products" ("available_on")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_on_available_on')
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_products_on_deleted_at" ON "products" ("deleted_at")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("products")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_deleted_at')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_on_available_on')
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("products")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_name')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_on_deleted_at')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_available_on')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_products_on_permalink" ON "products" ("permalink")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "products_taxons" ("product_id" integer, "taxon_id" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("products_taxons")[0m
  [1m[35mSQL (0.2ms)[0m  CREATE INDEX "index_products_taxons_on_product_id" ON "products_taxons" ("product_id")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("products_taxons")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_taxons_on_product_id')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE INDEX "index_products_taxons_on_taxon_id" ON "products_taxons" ("taxon_id")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "presentation" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "properties_prototypes" ("prototype_id" integer, "property_id" integer) [0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "prototypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "roles_users" ("role_id" integer, "user_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("roles_users")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_roles_users_on_role_id" ON "roles_users" ("role_id")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("roles_users")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_roles_users_on_role_id')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_roles_users_on_user_id" ON "roles_users" ("user_id")
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "shipping_method_id" integer, "tracking" varchar(255), "created_at" datetime, "updated_at" datetime, "number" varchar(255), "cost" decimal(8,2), "shipped_at" datetime, "address_id" integer) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "shipping_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "zone_id" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "state_events" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "user_id" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "previous_state" varchar(255)) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "country_id" integer) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "tax_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "tax_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "zone_id" integer, "amount" decimal(8,4), "created_at" datetime, "updated_at" datetime, "tax_category_id" integer) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "taxonomies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "taxons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "taxonomy_id" integer NOT NULL, "parent_id" integer, "position" integer DEFAULT 0, "name" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime, "permalink" varchar(255)) 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128) DEFAULT '' NOT NULL, "salt" varchar(128) DEFAULT '' NOT NULL, "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer) 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "sku" varchar(255) DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f') 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("variants")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_variants_on_product_id" ON "variants" ("product_id")
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "zone_members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "zone_id" integer, "zoneable_id" integer, "zoneable_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "zones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20090823005402')[0m
Migrating to CreateIndexesForInventoryUnits (20090904192342)
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("inventory_units")
  [1m[36mSQL (0.3ms)[0m  [1mCREATE INDEX "index_inventory_units_on_variant_id" ON "inventory_units" ("variant_id")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("inventory_units")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_inventory_units_on_variant_id')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_inventory_units_on_order_id" ON "inventory_units" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20090904192342')[0m
Migrating to AddCountOnHandToVariantsAndProducts (20090923100315)
  [1m[35mSQL (0.4ms)[0m  ALTER TABLE "variants" ADD "count_on_hand" integer DEFAULT 0 NOT NULL
  [1m[36mSQL (0.3ms)[0m  [1mALTER TABLE "products" ADD "count_on_hand" integer DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mVariant Load (0.1ms)[0m  [1mSELECT "variants".* FROM "variants"[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20090923100315')[0m
Migrating to ChangeTaxonsToNestedSet (20091007134354)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "taxons" ADD "lft" integer
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "taxons" ADD "rgt" integer[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProperty Load (0.1ms)[0m  SELECT "properties".* FROM "properties" WHERE ("properties"."name" = 'brand') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mTaxon Load (0.1ms)[0m  SELECT "taxons".* FROM "taxons" WHERE (parent_id IS NULL) ORDER BY position ASC
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20091007134354')[0m
Migrating to MoveToConfigurableGateways (20091008091614)
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "gateways"
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "gateway_options"[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "gateway_option_values"
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "gateway_configurations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "gateways" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "server" varchar(255) DEFAULT 'test', "test_mode" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091008091614')
Migrating to ProductGroupsAndScopes (20091012120519)
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "product_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "permalink" varchar(255), "order" varchar(255)) [0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "product_scopes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_group_id" integer, "name" varchar(255), "arguments" text) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("product_groups")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_product_groups_on_name" ON "product_groups" ("name")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("product_groups")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_product_groups_on_name')
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_product_groups_on_permalink" ON "product_groups" ("permalink")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("product_scopes")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_product_scopes_on_name" ON "product_scopes" ("name")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("product_scopes")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_product_scopes_on_name')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_product_scopes_on_product_group_id" ON "product_scopes" ("product_group_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20091012120519')[0m
Migrating to AddOpenIdAuthenticationTables (20091015110842)
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TABLE "open_id_authentication_associations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "issued" integer, "lifetime" integer, "handle" varchar(255), "assoc_type" varchar(255), "server_url" blob, "secret" blob) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "open_id_authentication_nonces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "timestamp" integer NOT NULL, "server_url" varchar(255), "salt" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091015110842')
Migrating to AddOpenidFieldToUsers (20091015153048)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "users" ADD "openid_identifier" varchar(255)[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_users_on_openid_identifier" ON "users" ("openid_identifier")[0m
  [1m[35mSQL (0.6ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128) DEFAULT '' NOT NULL, "salt" varchar(128) DEFAULT '' NOT NULL, "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255)) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_users_on_openid_identifier" ON "altered_users" ("openid_identifier")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128) DEFAULT '' NOT NULL, "salt" varchar(128) DEFAULT '' NOT NULL, "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_users_on_openid_identifier" ON "users" ("openid_identifier")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128) DEFAULT '' NOT NULL, "salt" varchar(128) DEFAULT '' NOT NULL, "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_users_on_openid_identifier" ON "altered_users" ("openid_identifier")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128), "salt" varchar(128) DEFAULT '' NOT NULL, "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_users_on_openid_identifier" ON "users" ("openid_identifier")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128), "salt" varchar(128) DEFAULT '' NOT NULL, "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_users_on_openid_identifier" ON "altered_users" ("openid_identifier")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128), "salt" varchar(128), "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_users_on_openid_identifier" ON "users" ("openid_identifier")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091015153048')
Migrating to ChangePreferenceValueType (20091016174634)
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("preferences")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_preferences_on_owner_and_attribute_and_preference')
  [1m[36mSQL (0.3ms)[0m  [1mDROP INDEX "index_preferences_on_owner_and_attribute_and_preference"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attribute" varchar(100) NOT NULL, "owner_id" integer(30) NOT NULL, "owner_type" varchar(50) NOT NULL, "group_id" integer, "group_type" varchar(50), "value" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("preferences")[0m
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "preferences"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attribute" varchar(100) NOT NULL, "owner_id" integer(30) NOT NULL, "owner_type" varchar(50) NOT NULL, "group_id" integer, "group_type" varchar(50), "value" text(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_preferences")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_preferences"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091016174634')
Migrating to CreateBillingIntegrations (20091017175558)
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "billing_integrations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091017175558')
Migrating to ChargeRefactoring (20091021133257)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "orders" ADD "completed_at" datetime[0m
  [1m[35mChargeRefactoring::Order Load (0.1ms)[0m  SELECT "orders".* FROM "orders"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "email" varchar(255), "ip_address" varchar(255), "special_instructions" text, "bill_address_id" integer, "completed_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "checkouts"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "email" varchar(255), "ip_address" varchar(255), "special_instructions" text, "bill_address_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_checkouts")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_checkouts"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal DEFAULT 0.0 NOT NULL, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "adjustment_source_id" integer, "adjustment_source_type" varchar(255), "secondary_type" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("adjustments")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "adjustment_source_id" integer, "adjustment_source_type" varchar(255), "secondary_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_adjustments"
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.1ms)[0m  UPDATE "adjustments" SET type = secondary_type
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "adjustments" SET type = 'CouponCredit' WHERE (type = 'Credit')[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "adjustment_source_id" integer, "adjustment_source_type" varchar(255), "secondary_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.2ms)[0m  DROP TABLE "adjustments"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "adjustment_source_id" integer, "adjustment_source_type" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_adjustments")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_adjustments"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091021133257')
Migrating to AddSomeIndexes (20091104151730)
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("taxons")[0m
  [1m[35mSQL (0.4ms)[0m  CREATE INDEX "index_taxons_on_permalink" ON "taxons" ("permalink")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("taxons")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_taxons_on_permalink')
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_taxons_on_parent_id" ON "taxons" ("parent_id")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("taxons")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_taxons_on_parent_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_taxons_on_permalink')
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_taxons_on_taxonomy_id" ON "taxons" ("taxonomy_id")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("assets")
  [1m[36mSQL (0.2ms)[0m  [1mCREATE INDEX "index_assets_on_viewable_id" ON "assets" ("viewable_id")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("assets")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_assets_on_viewable_id')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_assets_on_viewable_type_and_type" ON "assets" ("viewable_type", "type")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("product_properties")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_product_properties_on_product_id" ON "product_properties" ("product_id")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("option_values_variants")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_option_values_variants_on_variant_id')
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_option_values_variants_on_variant_id_and_option_value_id" ON "option_values_variants" ("variant_id", "option_value_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091104151730')
Migrating to CheckoutStateMachine (20091126190904)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "checkouts" ADD "state" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091126190904')
Migrating to StateForShipments (20091209153045)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "shipments" ADD "state" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20091209153045')
Migrating to MakeStateEventsPolymorphic (20091209202200)
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_state_events" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stateful_id" integer, "user_id" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "previous_state" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("state_events")
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "state_events"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "state_events" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stateful_id" integer, "user_id" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "previous_state" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_state_events")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_state_events"
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "state_events" ADD "stateful_type" varchar(255)[0m
  [1m[35mAREL (0.1ms)[0m  UPDATE "state_events" SET "stateful_type" = 'Order'
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20091209202200')[0m
Migrating to ShipAddressIdForCheckouts (20091211203813)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "checkouts" ADD "ship_address_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20091211203813')[0m
Migrating to ShippingMethodIdForCheckouts (20091212161118)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "checkouts" ADD "shipping_method_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20091212161118')[0m
Migrating to CreditcardLastFourDigits (20091213222815)
  [1m[35mSQL (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" text, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "checkout_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("creditcards")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "creditcards"
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" text, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "checkout_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_creditcards")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_creditcards"[0m
  [1m[35mCreditcardLastFourDigits::Creditcard Load (0.1ms)[0m  SELECT "creditcards".* FROM "creditcards"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20091213222815')[0m
Migrating to PopulateLegacyShipmentState (20091214183826)
  [1m[35mPopulateLegacyShipmentState::Shipment Load (0.2ms)[0m  SELECT "shipments".* FROM "shipments"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20091214183826')[0m
Migrating to AddCostPrice (20100105090147)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "variants" ADD "cost_price" decimal(8,2) DEFAULT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100105090147')[0m
Migrating to ShipmentIdForInventoryUnits (20100105132138)
  [1m[35mSQL (0.4ms)[0m  ALTER TABLE "inventory_units" ADD "shipment_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("inventory_units")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_inventory_units_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_inventory_units_on_variant_id')[0m
  [1m[35mSQL (0.5ms)[0m  CREATE INDEX "index_inventory_units_on_shipment_id" ON "inventory_units" ("shipment_id")
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mShipment Load (0.1ms)[0m  SELECT "shipments".* FROM "shipments"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100105132138')[0m
Migrating to AddApiKeyToUsers (20100107141738)
  [1m[35mSQL (0.6ms)[0m  ALTER TABLE "users" ADD "api_key" varchar(40)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100107141738')[0m
Migrating to CimFieldsForCreditcards (20100111205525)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "creditcards" ADD "gateway_customer_profile_id" varchar(255)
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "creditcards" ADD "gateway_payment_profile_id" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100111205525')
Migrating to CreateReturnAuthorizations (20100112151511)
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TABLE "return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "state" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100112151511')
Migrating to AddReturnAuthorizationToInventoryUnits (20100113090919)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "inventory_units" ADD "return_authorization_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100113090919')
Migrating to CreateTrackers (20100113203104)
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "trackers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar(255), "analytics_id" varchar(255), "active" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100113203104')
Migrating to CreditcardIdForCreditcardTxns (20100121160010)
  [1m[36mSQL (0.4ms)[0m  [1mALTER TABLE "creditcard_txns" ADD "creditcard_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100121160010')
Migrating to OriginalCreditcardTxnIdForCreditcardTxns (20100121183934)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "creditcard_txns" ADD "original_creditcard_txn_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100121183934')
Migrating to AddTestModeToBillingIntegration (20100125145351)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "billing_integrations" ADD "test_mode" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "billing_integrations" ADD "server" varchar(255) DEFAULT 'test'
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100125145351')[0m
Migrating to CreateProductsProductGroups (20100126103714)
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "product_groups_products" ("product_id" integer, "product_group_id" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100126103714')[0m
Migrating to CreatePaymentMethods (20100209025806)
  [1m[35mSQL (0.5ms)[0m  CREATE TABLE "payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100209025806')[0m
Migrating to PolymorphicPayments (20100209144531)
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "creditcard_id" integer, "type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("payments")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "payments"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "creditcard_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_payments")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_payments"[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "creditcard_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("payments")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "payments"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_payments")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_payments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payable_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("payments")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "payments"
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payable_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_payments")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_payments"[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "payments" ADD "payable_type" varchar(255)
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "payments" ADD "payment_method" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "payments" ADD "source_id" integer
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "payments" ADD "source_type" varchar(255)[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE payments SET payable_type = 'Order'
  [1m[36mCreditcard Load (0.1ms)[0m  [1mSELECT "creditcards".* FROM "creditcards"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" text, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "checkout_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("creditcards")[0m
  [1m[35mSQL (0.2ms)[0m  DROP TABLE "creditcards"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" text, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_creditcards")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_creditcards"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100209144531')
Migrating to ChangePaymentsPaymentMethodToBelongsTo (20100213103131)
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payable_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "payable_type" varchar(255), "payment_method" varchar(255), "source_id" integer, "source_type" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("payments")
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "payments"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payable_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "payable_type" varchar(255), "source_id" integer, "source_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_payments")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_payments"
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "payments" ADD "payment_method_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100213103131')
Migrating to AssignCreditcardTxnsToPayment (20100214212536)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "creditcard_txns" ADD "payment_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  SELECT * FROM creditcard_txns
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_creditcard_txns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "creditcard_payment_id" integer, "amount" decimal DEFAULT 0.0 NOT NULL, "txn_type" integer, "response_code" varchar(255), "avs_response" text, "cvv_response" text, "created_at" datetime, "updated_at" datetime, "creditcard_id" integer, "original_creditcard_txn_id" integer, "payment_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("creditcard_txns")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "creditcard_txns"[0m
  [1m[35mSQL (0.4ms)[0m  CREATE TABLE "creditcard_txns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal DEFAULT 0.0 NOT NULL, "txn_type" integer, "response_code" varchar(255), "avs_response" text, "cvv_response" text, "created_at" datetime, "updated_at" datetime, "creditcard_id" integer, "original_creditcard_txn_id" integer, "payment_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_creditcard_txns")[0m
  [1m[35mSQL (0.2ms)[0m  DROP TABLE "altered_creditcard_txns"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100214212536')[0m
Migrating to StiForTransactions (20100223170312)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "creditcard_txns" RENAME TO "transactions"
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "transactions" ADD "type" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal DEFAULT 0.0 NOT NULL, "txn_type" integer, "response_code" varchar(255), "avs_response" text, "cvv_response" text, "created_at" datetime, "updated_at" datetime, "creditcard_id" integer, "original_creditcard_txn_id" integer, "payment_id" integer, "type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("transactions")[0m
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "transactions"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal DEFAULT 0.0 NOT NULL, "txn_type" integer, "response_code" varchar(255), "avs_response" text, "cvv_response" text, "created_at" datetime, "updated_at" datetime, "original_creditcard_txn_id" integer, "payment_id" integer, "type" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_transactions")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_transactions"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100223170312')
Migrating to DropBillingIntegrations (20100223183812)
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "billing_integrations"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100223183812')
Migrating to DeletedAtForPaymentMethods (20100224153127)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "payment_methods" ADD "deleted_at" datetime DEFAULT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100224153127')
Migrating to AddAdjustmentsIndex (20100301163454)
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.3ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "adjustments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100301163454')[0m
Migrating to FixByPopularity (20100306153445)
  [1m[35mAREL (0.2ms)[0m  UPDATE "product_scopes" SET name='descend_by_popularity' WHERE (name='by_popularity')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100306153445')[0m
Migrating to AddAltTextToImages (20100317120946)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "assets" ADD "alt" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100317120946')[0m
Migrating to RenameCouponsToPromotions (20100419190933)
  [1m[35mSQL (0.1ms)[0m  DROP TABLE IF EXISTS promotions
  [1m[36mSQL (0.4ms)[0m  [1mALTER TABLE "coupons" RENAME TO "promotions"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100419190933')
Migrating to FixExistingCouponCredits (20100419194457)
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE adjustments SET type='PromotionCredit' WHERE type='CouponCredit'[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE adjustments SET adjustment_source_type='Promotion' WHERE adjustment_source_type='Coupon'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100419194457')[0m
Migrating to CreatePromotionRules (20100426100726)
  [1m[35mSQL (0.5ms)[0m  CREATE TABLE "promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_id" integer, "user_id" integer, "product_group_id" integer, "created_at" datetime, "updated_at" datetime, "type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("promotion_rules")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_promotion_rules_on_product_group_id" ON "promotion_rules" ("product_group_id")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("promotion_rules")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_promotion_rules_on_product_group_id')
  [1m[36mSQL (0.2ms)[0m  [1mCREATE INDEX "index_promotion_rules_on_user_id" ON "promotion_rules" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "products_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "promotion_rule_id" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_products_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "promotion_rule_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("products_promotion_rules")
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "products_promotion_rules"[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "products_promotion_rules" ("product_id" integer, "promotion_rule_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_products_promotion_rules")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_products_promotion_rules"
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("products_promotion_rules")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_products_promotion_rules_on_product_id" ON "products_promotion_rules" ("product_id")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("products_promotion_rules")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_promotion_rules_on_product_id')
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_products_promotion_rules_on_promotion_rule_id" ON "products_promotion_rules" ("promotion_rule_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100426100726')
Migrating to AddDisplayToPaymentMethods (20100427121301)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "payment_methods" ADD "display" varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100427121301')
Migrating to MatchPolicyForPromotions (20100501084722)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "promotions" ADD "match_policy" varchar(255) DEFAULT 'all'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100501084722')
Migrating to CreatePromotionRulesUsers (20100501095202)
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TABLE "promotion_rules_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "promotion_rule_id" integer) [0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_promotion_rules_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "promotion_rule_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("promotion_rules_users")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "promotion_rules_users"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "promotion_rules_users" ("user_id" integer, "promotion_rule_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_promotion_rules_users")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_promotion_rules_users"[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("promotion_rules_users")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_promotion_rules_users_on_user_id" ON "promotion_rules_users" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("promotion_rules_users")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_promotion_rules_users_on_user_id')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_promotion_rules_users_on_promotion_rule_id" ON "promotion_rules_users" ("promotion_rule_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100501095202')[0m
Migrating to NameForPromotions (20100502163939)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "promotions" ADD "name" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100502163939')[0m
Migrating to AddAddressesCheckoutsIndexes (20100504142133)
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("addresses")
  [1m[36mSQL (0.3ms)[0m  [1mCREATE INDEX "index_addresses_on_firstname" ON "addresses" ("firstname")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("addresses")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_addresses_on_firstname')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_addresses_on_lastname" ON "addresses" ("lastname")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("checkouts")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_checkouts_on_order_id" ON "checkouts" ("order_id")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("checkouts")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_checkouts_on_order_id')
  [1m[36mSQL (0.2ms)[0m  [1mCREATE INDEX "index_checkouts_on_bill_address_id" ON "checkouts" ("bill_address_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100504142133')
Migrating to AddIconToTaxons (20100506180619)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "taxons" ADD "icon_file_name" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "taxons" ADD "icon_content_type" varchar(255)
  [1m[36mSQL (0.3ms)[0m  [1mALTER TABLE "taxons" ADD "icon_file_size" integer[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "taxons" ADD "icon_updated_at" datetime
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100506180619')[0m
Migrating to AddDescriptionToTaxons (20100506185838)
  [1m[35mSQL (0.6ms)[0m  ALTER TABLE "taxons" ADD "description" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100506185838')[0m
Migrating to IndexForShipmentsNumber (20100528155333)
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("shipments")
  [1m[36mSQL (0.4ms)[0m  [1mCREATE INDEX "index_shipments_on_number" ON "shipments" ("number")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100528155333')
Migrating to AddIndexOnUsersPersistenceToken (20100528185820)
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_users_on_openid_identifier')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE INDEX "index_users_on_persistence_token" ON "users" ("persistence_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100528185820')
Migrating to AddDefaultToTaxCategories (20100605152042)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "tax_categories" ADD "is_default" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100605152042')
Migrating to AddDisplayToShippingMethods (20100624110730)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "shipping_methods" ADD "display_on" varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100624110730')
Migrating to RenamePaymentMethodDisplay (20100624123336)
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "created_at" datetime, "updated_at" datetime, "deleted_at" datetime, "display_on" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("payment_methods")
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "payment_methods"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "created_at" datetime, "updated_at" datetime, "deleted_at" datetime, "display_on" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_payment_methods")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_payment_methods"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100624123336')[0m
Migrating to RenamePreferencesField (20100624175547)
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100) NOT NULL, "owner_id" integer(30) NOT NULL, "owner_type" varchar(50) NOT NULL, "group_id" integer, "group_type" varchar(50), "value" text(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("preferences")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "preferences"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100) NOT NULL, "owner_id" integer(30) NOT NULL, "owner_type" varchar(50) NOT NULL, "group_id" integer, "group_type" varchar(50), "value" text(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_preferences")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_preferences"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100624175547')
Migrating to AddGuestFlag (20100811163637)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "users" ADD "guest" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100811163637')
Migrating to DropOrderToken (20100811205836)
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "altered_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "number" varchar(15), "item_total" decimal DEFAULT 0.0 NOT NULL, "total" decimal DEFAULT 0.0 NOT NULL, "created_at" datetime, "updated_at" datetime, "state" varchar(255), "token" varchar(255), "adjustment_total" decimal DEFAULT 0.0 NOT NULL, "credit_total" decimal DEFAULT 0.0 NOT NULL, "completed_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("orders")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_orders_on_number')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_orders")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "temp_index_altered_orders_on_number" ON "altered_orders" ("number")[0m
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "orders"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "number" varchar(15), "item_total" decimal DEFAULT 0.0 NOT NULL, "total" decimal DEFAULT 0.0 NOT NULL, "created_at" datetime, "updated_at" datetime, "state" varchar(255), "adjustment_total" decimal DEFAULT 0.0 NOT NULL, "credit_total" decimal DEFAULT 0.0 NOT NULL, "completed_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_orders")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('temp_index_altered_orders_on_number')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("orders")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_orders_on_number" ON "orders" ("number")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_orders"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100811205836')[0m
Migrating to PaymentsStateAndAssignedToOrderOnly (20100812162326)
  [1m[35mSQL (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "payable_type" varchar(255), "source_id" integer, "source_type" varchar(255), "payment_method_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("payments")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "payments"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "payable_type" varchar(255), "source_id" integer, "source_type" varchar(255), "payment_method_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_payments")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_payments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "payable_type" varchar(255), "source_id" integer, "source_type" varchar(255), "payment_method_id" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("payments")[0m
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "payments"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime, "amount" decimal DEFAULT 0.0 NOT NULL, "source_id" integer, "source_type" varchar(255), "payment_method_id" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_payments")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_payments"[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "payments" ADD "state" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100812162326')[0m
Migrating to CreateAddressKeysForOrder (20100813023502)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "orders" ADD "bill_address_id" integer
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "orders" ADD "ship_address_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100813023502')
Migrating to PaymentTotalForOrders (20100813185745)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "orders" ADD "payment_total" decimal(8,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100813185745')
Migrating to ShippingMethodIdForOrders (20100816212146)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "orders" ADD "shipping_method_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100816212146')
Migrating to AddShipmentAndPaymentState (20100817152723)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "orders" ADD "shipment_state" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "orders" ADD "payment_state" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100817152723')[0m
Migrating to RefactorAdjustments (20100819170125)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "adjustments" ADD "mandatory" boolean
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "adjustments" ADD "frozen" boolean[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "adjustment_source_type" varchar(255), "mandatory" boolean, "frozen" boolean) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_adjustments_on_order_id" ON "altered_adjustments" ("order_id")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "adjustments"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "adjustment_source_type" varchar(255), "mandatory" boolean, "frozen" boolean) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "adjustments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_adjustments_on_order_id" ON "altered_adjustments" ("order_id")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "adjustments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_adjustments"[0m
  [1m[35mSQL (0.6ms)[0m  ALTER TABLE "adjustments" ADD "originator_id" integer
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "adjustments" ADD "originator_type" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "type" varchar(255), "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean, "originator_id" integer, "originator_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_adjustments_on_order_id" ON "altered_adjustments" ("order_id")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "amount" decimal, "description" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean, "originator_id" integer, "originator_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "adjustments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "amount" decimal, "label" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean, "originator_id" integer, "originator_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_adjustments_on_order_id" ON "altered_adjustments" ("order_id")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "amount" decimal, "label" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean, "originator_id" integer, "originator_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "adjustments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "amount" decimal, "label" varchar(255), "position" integer, "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean, "originator_id" integer, "originator_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_adjustments_on_order_id" ON "altered_adjustments" ("order_id")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "adjustments"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "amount" decimal, "label" varchar(255), "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "frozen" boolean, "originator_id" integer, "originator_type" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_adjustments_on_order_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "adjustments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_adjustments"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100819170125')
Migrating to ResponseCodeAndAvsResponseForPayments (20100820135707)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "payments" ADD "response_code" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "payments" ADD "avs_response" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100820135707')[0m
Migrating to ChangeGuestFlagToAnonymous (20100901171814)
  [1m[35mSQL (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128), "salt" varchar(128), "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255), "api_key" varchar(40), "anonymous" boolean) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_users_on_persistence_token')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_openid_identifier')[0m
  [1m[35mSQL (0.2ms)[0m  PRAGMA index_list("altered_users")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "temp_index_altered_users_on_persistence_token" ON "altered_users" ("persistence_token")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('temp_index_altered_users_on_persistence_token')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_users_on_openid_identifier" ON "altered_users" ("openid_identifier")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128), "salt" varchar(128), "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255), "api_key" varchar(40), "anonymous" boolean) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('temp_index_altered_users_on_persistence_token')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_users_on_openid_identifier" ON "users" ("openid_identifier")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_openid_identifier')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "index_users_on_persistence_token" ON "users" ("persistence_token")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100901171814')
Migrating to EmailForOrders (20100903203949)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "orders" ADD "email" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100903203949')
Migrating to UpdateCalculableTypeForPromotions (20100923095305)
  [1m[36mAREL (0.1ms)[0m  [1mUPDATE "calculators" SET calculable_type = 'Promotion' WHERE (calculable_type = 'Coupon')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100923095305')
Migrating to CreateMailMethods (20100923162011)
  [1m[36mSQL (0.9ms)[0m  [1mCREATE TABLE "mail_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar(255), "active" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20100923162011')
Migrating to RenameFrozenToLocked (20100929151905)
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "amount" decimal, "label" varchar(255), "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "locked" boolean, "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("adjustments")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_adjustments_on_order_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_adjustments")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "temp_index_altered_adjustments_on_order_id" ON "altered_adjustments" ("order_id")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "adjustments"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "amount" decimal, "label" varchar(255), "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "mandatory" boolean, "locked" boolean, "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("altered_adjustments")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('temp_index_altered_adjustments_on_order_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("adjustments")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "index_adjustments_on_order_id" ON "adjustments" ("order_id")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_adjustments"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20100929151905')[0m
Migrating to MoveSpecialInstructionsToOrders (20101008190536)
  [1m[35mSQL (0.6ms)[0m  ALTER TABLE "orders" ADD "special_instructions" text
  [1m[36mSQL (0.1ms)[0m  [1mupdate orders set special_instructions = (select special_instructions from checkouts where order_id = orders.id)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101008190536')
Migrating to CreateLogEntries (20101026184700)
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "log_entries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "details" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101026184700')
Migrating to MigrateTransactionsToPaymentState (20101026184714)
  [1m[36mTransaction Load (0.2ms)[0m  [1mselect * from transactions group by payment_id having count(payment_id) = 1 and txn_type = 1[0m
  [1m[35mTransaction Load (0.1ms)[0m  select * from transactions where txn_type=4
  [1m[36mTransaction Load (0.1ms)[0m  [1mselect * from transactions where txn_type = 2[0m
  [1m[35mTransaction Load (0.1ms)[0m  select * from transactions where txn_type = 3
  [1m[36mTransaction Load (0.1ms)[0m  [1mselect * from transactions where txn_type = 5[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101026184714')
Migrating to DeleteInProgressOrders (20101026184746)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE ("orders"."state" = 'in_progress')
  [1m[36mSQL (0.0ms)[0m  [1mdelete from adjustments where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.0ms)[0m  delete from checkouts where order_id not in (select id from orders)
  [1m[36mSQL (0.0ms)[0m  [1mdelete from shipments where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.0ms)[0m  delete from payments where order_id not in (select id from orders)
  [1m[36mSQL (0.0ms)[0m  [1mdelete from line_items where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.0ms)[0m  delete from inventory_units where order_id not in (select id from orders)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101026184746')[0m
Migrating to MigrateCheckoutToOrders (20101026184808)
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."id" >= 0) ORDER BY orders.id ASC LIMIT 1000
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101026184808')[0m
Migrating to MigrateAdjustments (20101026184833)
  [1m[35mSQL (0.2ms)[0m  update adjustments set amount = 0.0 where amount is null
  [1m[36mSQL (0.0ms)[0m  [1mupdate adjustments set mandatory = 'true', locked = 'true'[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101026184833')
Migrating to RemoveShippedState (20101026184855)
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE ("orders"."state" = 'shipped')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101026184855')
Migrating to PreventNilPaymentTotal (20101026184916)
  [1m[36mSQL (0.2ms)[0m  [1mupdate orders set payment_total = 0.0 where payment_total is null[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101026184916')
Migrating to PreventNilEmail (20101026184932)
  [1m[36mSQL (0.2ms)[0m  [1mupdate orders set email = 'guest@example.com' where email is null[0m
  [1m[35mSQL (0.0ms)[0m  update orders set email = 'guest@example.com' where email = ''
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101026184932')[0m
Migrating to GenerateAnonymousUsers (20101026184959)
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE ("orders"."user_id" IS NULL)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101026184959')[0m
Migrating to UpdateOrderState (20101026185022)
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101026185022')[0m
Migrating to CleanupLegacyTables (20101026192225)
  [1m[35mSQL (0.6ms)[0m  DROP TABLE "checkouts"
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "transactions"[0m
  [1m[35mSQL (0.2ms)[0m  DROP TABLE "open_id_authentication_associations"
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "open_id_authentication_nonces"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101026192225')
Migrating to RemoveNumberAndCvvFromCredicard (20101028151745)
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "altered_creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" text, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("creditcards")
  [1m[36mSQL (0.6ms)[0m  [1mDROP TABLE "creditcards"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_creditcards")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_creditcards"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "verification_value" text, "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255)) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("creditcards")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "creditcards"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "creditcards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "created_at" datetime, "updated_at" datetime, "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255)) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_creditcards")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_creditcards"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101028151745')[0m
Migrating to DropAnonymousFieldForUser (20101103212716)
  [1m[35mSQL (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128), "salt" varchar(128), "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255), "api_key" varchar(40), "anonymous" boolean) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_users_on_persistence_token')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_openid_identifier')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36mSQL (0.1ms)[0m  [1mCREATE INDEX "temp_index_altered_users_on_persistence_token" ON "altered_users" ("persistence_token")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('temp_index_altered_users_on_persistence_token')[0m
  [1m[35mSQL (0.1ms)[0m  CREATE INDEX "temp_index_altered_users_on_openid_identifier" ON "altered_users" ("openid_identifier")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255), "crypted_password" varchar(128), "salt" varchar(128), "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "created_at" datetime, "updated_at" datetime, "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer DEFAULT 0 NOT NULL, "failed_login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "openid_identifier" varchar(255), "api_key" varchar(40)) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('temp_index_altered_users_on_openid_identifier')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('temp_index_altered_users_on_persistence_token')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.2ms)[0m  [1mCREATE INDEX "index_users_on_openid_identifier" ON "users" ("openid_identifier")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_openid_identifier')[0m
  [1m[35mSQL (0.2ms)[0m  CREATE INDEX "index_users_on_persistence_token" ON "users" ("persistence_token")
  [1m[36mSQL (0.2ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101103212716')
Migrating to RenamedRmaCancelledState (20101111133551)
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mReturnAuthorization Load (0.1ms)[0m  SELECT "return_authorizations".* FROM "return_authorizations" WHERE ("return_authorizations"."state" = 'cancelled')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101111133551')[0m
Migrating to FixProblematicIndexNames (20101117031806)
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("preferences")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("preferences")[0m
  [1m[35mSQL (1.5ms)[0m  CREATE UNIQUE INDEX "ix_prefs_on_owner_attr_pref" ON "preferences" ("owner_id", "owner_type", "name", "group_id", "group_type")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101117031806')[0m
Migrating to InstallSpreeMail (20110131081738)
  [1m[35mSQL (0.4ms)[0m  CREATE TABLE "subscribers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar(255), "name" varchar(255), "email" varchar(255), "unsubscribed_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mCREATE TABLE "emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar(255), "to" text, "subject" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110131081738')
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("addresses")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_addresses_on_lastname')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_addresses_on_firstname')
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("adjustments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_adjustments_on_order_id')
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("assets")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_assets_on_viewable_type_and_type')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_assets_on_viewable_id')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("calculators")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("configurations")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_configurations_on_name_and_type')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("countries")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("creditcards")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("emails")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("gateways")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("inventory_units")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_inventory_units_on_shipment_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_inventory_units_on_order_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_inventory_units_on_variant_id')
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("line_items")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_line_items_on_variant_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_line_items_on_order_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("log_entries")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("mail_methods")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("option_types")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("option_types_prototypes")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("option_values")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("option_values_variants")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_option_values_variants_on_variant_id_and_option_value_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_option_values_variants_on_variant_id')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("orders")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_orders_on_number')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("payment_methods")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("payments")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("preferences")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('ix_prefs_on_owner_attr_pref')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("product_groups")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_product_groups_on_permalink')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_product_groups_on_name')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("product_groups_products")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("product_option_types")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("product_properties")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_product_properties_on_product_id')
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("product_scopes")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_product_scopes_on_product_group_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_product_scopes_on_name')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("products")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_permalink')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_on_name')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_deleted_at')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_on_available_on')
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("products_promotion_rules")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_promotion_rules_on_promotion_rule_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_products_promotion_rules_on_product_id')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("products_taxons")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_products_taxons_on_taxon_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_products_taxons_on_product_id')
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("promotion_rules")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_promotion_rules_on_user_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_promotion_rules_on_product_group_id')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("promotion_rules_users")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_promotion_rules_users_on_promotion_rule_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_promotion_rules_users_on_user_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("promotions")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("properties")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("properties_prototypes")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("prototypes")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("return_authorizations")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("roles")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("roles_users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_roles_users_on_user_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_roles_users_on_role_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("shipments")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_shipments_on_number')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("shipping_categories")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("shipping_methods")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("state_events")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("states")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("subscribers")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("tax_categories")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("tax_rates")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("taxonomies")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("taxons")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_taxons_on_taxonomy_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_taxons_on_parent_id')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_taxons_on_permalink')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("trackers")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_info('index_users_on_persistence_token')
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_openid_identifier')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("variants")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_info('index_variants_on_product_id')[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("zone_members")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("zones")[0m
